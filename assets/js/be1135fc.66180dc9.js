"use strict";(self.webpackChunkdatacomb=self.webpackChunkdatacomb||[]).push([[16],{3905:(a,e,o)=>{o.d(e,{Zo:()=>p,kt:()=>k});var t=o(7294);function n(a,e,o){return e in a?Object.defineProperty(a,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[e]=o,a}function r(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),o.push.apply(o,t)}return o}function s(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){n(a,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))}))}return a}function l(a,e){if(null==a)return{};var o,t,n=function(a,e){if(null==a)return{};var o,t,n={},r=Object.keys(a);for(t=0;t<r.length;t++)o=r[t],e.indexOf(o)>=0||(n[o]=a[o]);return n}(a,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(t=0;t<r.length;t++)o=r[t],e.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(a,o)&&(n[o]=a[o])}return n}var i=t.createContext({}),u=function(a){var e=t.useContext(i),o=e;return a&&(o="function"==typeof a?a(e):s(s({},e),a)),o},p=function(a){var e=u(a.components);return t.createElement(i.Provider,{value:e},a.children)},m="mdxType",d={inlineCode:"code",wrapper:function(a){var e=a.children;return t.createElement(t.Fragment,{},e)}},c=t.forwardRef((function(a,e){var o=a.components,n=a.mdxType,r=a.originalType,i=a.parentName,p=l(a,["components","mdxType","originalType","parentName"]),m=u(o),c=n,k=m["".concat(i,".").concat(c)]||m[c]||d[c]||r;return o?t.createElement(k,s(s({ref:e},p),{},{components:o})):t.createElement(k,s({ref:e},p))}));function k(a,e){var o=arguments,n=e&&e.mdxType;if("string"==typeof a||n){var r=o.length,s=new Array(r);s[0]=c;var l={};for(var i in e)hasOwnProperty.call(e,i)&&(l[i]=e[i]);l.originalType=a,l[m]="string"==typeof a?a:n,s[1]=l;for(var u=2;u<r;u++)s[u]=o[u];return t.createElement.apply(null,s)}return t.createElement.apply(null,o)}c.displayName="MDXCreateElement"},5598:(a,e,o)=>{o.r(e),o.d(e,{assets:()=>i,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var t=o(7462),n=(o(7294),o(3905));const r={sidebar_position:6,slug:"/docs/programacao/sql-basico",title:"SQL - B\xe1sico",description:"Introdu\xe7\xe3o ao SQL"},s="Introdu\xe7\xe3o - SQL \u26c1",l={unversionedId:"programacao/sql-basic",id:"programacao/sql-basic",title:"SQL - B\xe1sico",description:"Introdu\xe7\xe3o ao SQL",source:"@site/docs/programacao/sql-basic.md",sourceDirName:"programacao",slug:"/docs/programacao/sql-basico",permalink:"/docs/programacao/sql-basico",draft:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,slug:"/docs/programacao/sql-basico",title:"SQL - B\xe1sico",description:"Introdu\xe7\xe3o ao SQL"},sidebar:"tutorialSidebar",previous:{title:"Python - Strings",permalink:"/docs/programacao/python-strings"},next:{title:"Markdown Features",permalink:"/programacao/markdown-features"}},i={},u=[{value:"Manipula\xe7\xe3o das Tabelas",id:"manipula\xe7\xe3o-das-tabelas",level:2},{value:"CREATE TABLE",id:"create-table",level:3},{value:"Restri\xe7\xf5es das Colunas (Column Constraints)",id:"restri\xe7\xf5es-das-colunas-column-constraints",level:3},{value:"INSERT INTO",id:"insert-into",level:3},{value:"ALTER TABLE",id:"alter-table",level:3},{value:"DELETE",id:"delete",level:3},{value:"UPDATE",id:"update",level:3}],p={toc:u},m="wrapper";function d(a){let{components:e,...r}=a;return(0,n.kt)(m,(0,t.Z)({},p,r,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"introdu\xe7\xe3o---sql-"},"Introdu\xe7\xe3o - SQL \u26c1"),(0,n.kt)("p",null,"Muitas organiza\xe7\xf5es e empresas usam ",(0,n.kt)("strong",{parentName:"p"},"SQL")," (",(0,n.kt)("strong",{parentName:"p"},"S"),"tructured ",(0,n.kt)("strong",{parentName:"p"},"Q"),"uery ",(0,n.kt)("strong",{parentName:"p"},"L"),"anguage) para acessar seu banco de dados. Um ",(0,n.kt)("strong",{parentName:"p"},"banco de dados")," \xe9 um conjunto de dados armazenado num computador, geralmente em ",(0,n.kt)("strong",{parentName:"p"},"tabelas"),", com m\xfaltiplas colunas e linhas."),(0,n.kt)("p",null,"Planilhas como Microsoft Excel e Google Sheets conseguem te permitir manipular e organizar dados diretamente, com sele\xe7\xe3o, filtra\xe7\xe3o, ordena\xe7\xe3o, etc."),(0,n.kt)("p",null,'Aplicando essas opera\xe7\xf5es, voc\xea pode separar o subconjunto de dados que procura. SQL (pronunciado "S-Q-L" ou "',(0,n.kt)("em",{parentName:"p"},"sequel"),'") te permite escrever "consultas", ou ',(0,n.kt)("em",{parentName:"p"},"queries"),", que definem o subconjunto dos dados que voc\xea procura."),(0,n.kt)("p",null,"A diferen\xe7a? Diferentemente de Excel ou Sheets, seu computador e SQL v\xe3o decidir ",(0,n.kt)("strong",{parentName:"p"},"como")," conseguir os dados: voc\xea s\xf3 precisa focar em definir ",(0,n.kt)("strong",{parentName:"p"},"quais")," dados voc\xea precisa. Voc\xea pode salvar essas ",(0,n.kt)("em",{parentName:"p"},"queries"),", refin\xe1-las, compartilh\xe1-las e us\xe1-las em outro conjunto de dados."),(0,n.kt)("p",null,'\xc9 uma \xf3tima forma de acessar dados, e relativamente simples, com uma sintaxe n\xe3o muito "enigm\xe1tico".'),(0,n.kt)("p",null,"Como isso pode ser usado?"),(0,n.kt)("p",null,"Veja alguns exemplos de utiliza\xe7\xe3o abaixo:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Funil de utiliza\xe7\xe3o")),(0,n.kt)("p",null,"Um exemplo b\xe1sico mas interessante \xe9 o de ",(0,n.kt)("strong",{parentName:"p"},"funil de utiliza\xe7\xe3o"),". Pense num e-commerce. O fluxo de uso se d\xe1 por 3 etapas:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Navega\xe7\xe3o pela p\xe1gina e pelos itens \xe0 venda;"),(0,n.kt)("li",{parentName:"ol"},"Clique num \xedcone para iniciar o processo de compra e ir \xe0 p\xe1gina de checkout;"),(0,n.kt)("li",{parentName:"ol"},"Enviar informa\xe7\xf5es de pagamento no checkout para completar a compra;")),(0,n.kt)("p",null,"\xc9 natural que nem todos os visitantes do site v\xe3o chegar na etapa de checkout, e nem todos na etapa de checkout v\xe3o finalizar a compra. Isto \xe9, a taxa de convers\xe3o nunca ser\xe1 100%."),(0,n.kt)("p",null,"Esse tipo de processo \xe9 denominado ",(0,n.kt)("em",{parentName:"p"},"funil"),". Sabendo disso, como podemos colocar nossas habilidades em SQL em pr\xe1tica para melhorar o site? "),(0,n.kt)("p",null,"Podemos usar uma ",(0,n.kt)("em",{parentName:"p"},"query")," para combinar dados dos usu\xe1rios que visitaram diferentes se\xe7\xf5es da p\xe1gina, dados dos usu\xe1rios que visitaram a p\xe1gina de checkout e dados dos usu\xe1rios que finalizaram a compra."),(0,n.kt)("p",null,"Assim, podemos concluir a porcentagem estimada de usu\xe1rios que movem para a pr\xf3xima etapa no funil."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Churn Rate (Taxa de Cancelamento)")),(0,n.kt)("p",null,"Para plataformas e p\xe1ginas com servi\xe7os por assinatura, podemos utilizar SQL para coletar dados de cancelamentos e calcular a ",(0,n.kt)("strong",{parentName:"p"},"taxa de cancelamento"),", que se d\xe1 por"),(0,n.kt)("p",null,"Taxa de Cancelamento = (cancelamentos/total de inscri\xe7\xf5es)"),(0,n.kt)("p",null,"E podemos fazer isso para analisar a ",(0,n.kt)("em",{parentName:"p"},"churn rate")," todos os meses, para testar mudan\xe7as e melhorar o servi\xe7o."),(0,n.kt)("p",null,"Bom, vamos come\xe7ar."),(0,n.kt)("h2",{id:"manipula\xe7\xe3o-das-tabelas"},"Manipula\xe7\xe3o das Tabelas"),(0,n.kt)("p",null,"J\xe1 disse que os dados em bancos de dados relacionais s\xe3o organizados em tabelas: mas como se parecem essas tabelas?"),(0,n.kt)("p",null,"Veja um exemplo abaixo:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Exemplo de Tabela SQL",src:o(5680).Z,width:"789",height:"208"})),(0,n.kt)("p",null,"Podemos chamar as linhas de linhas, registros, ou ",(0,n.kt)("em",{parentName:"p"},"rows"),", e as colunas de colunas, campos ou ",(0,n.kt)("em",{parentName:"p"},"columns")," (que s\xe3o os termos em ingl\xeas). Veja os comandos de manipula\xe7\xe3o que usaremos:"),(0,n.kt)("h3",{id:"create-table"},"CREATE TABLE"),(0,n.kt)("p",null,"A declara\xe7\xe3o ",(0,n.kt)("strong",{parentName:"p"},"CREATE TABLE")," cria uma nova tabela no banco de dados, com os nomes das colunas e os tipos de dados de cada coluna. Observe:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE nome_da_tabela (\n    coluna1 TIPO_DE_DADO,\n    coluna2 TIPO_DE_DADO,\n    coluna3 TIPO_DE_DADO\n);\n")),(0,n.kt)("admonition",{title:"TIPOS DE DADOS NO SQL",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"Os tipos de dados v\xe3o depender do RDBMS usado: n\xf3s vamos usar os padr\xf5es do SQLite em alguns artigos e os padr\xf5es do PostgreSQL em outros. Neste artigo, estamos usando os tipos do SQLite, que s\xe3o:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"INTEGER (Inteiro)"),(0,n.kt)("li",{parentName:"ul"},"TEXT (String)"),(0,n.kt)("li",{parentName:"ul"},"REAL (Float)"),(0,n.kt)("li",{parentName:"ul"},"DATE (Data no padr\xe3o YYYY-MM-DD)")),(0,n.kt)("p",{parentName:"admonition"},"Saiba tamb\xe9m que chamaremos os comandos de ",(0,n.kt)("em",{parentName:"p"},"cl\xe1usulas"),". ")),(0,n.kt)("p",null,"Aplicando num exemplo: imagine que queremos criar uma tabela que armazena dados sobre estudantes de uma escola. Veja:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE estudantes (\n    matricula INTEGER,\n    nome TEXT,\n    idade INTEGER,\n    data_de_inicio DATE,\n    media REAL\n);\n")),(0,n.kt)("p",null,"Com esse comando n\xf3s criamos uma tabela simples que o nome dos estudantes, as idades, data de in\xedcio na escola e a m\xe9dia geral das notas. Perceba que ser\xe3o distintos uns dos outros com a categoria ",(0,n.kt)("strong",{parentName:"p"},"matricula"),"."),(0,n.kt)("admonition",{title:"Padr\xf5es do SQL",type:"note"},(0,n.kt)("p",{parentName:"admonition"},"As cl\xe1usulas e declara\xe7\xf5es ser escritas em letras mai\xfasculas, e s\xe3o terminados em ponto e v\xedrgula ",(0,n.kt)("strong",{parentName:"p"},";"),".")),(0,n.kt)("h3",{id:"restri\xe7\xf5es-das-colunas-column-constraints"},"Restri\xe7\xf5es das Colunas (Column Constraints)"),(0,n.kt)("p",null,"Em muitos casos, ser\xe1 interessante determinar algumas restri\xe7\xf5es para as colunas de nossas tabelas, para melhor organiza\xe7\xe3o, seguran\xe7a e melhor adapta\xe7\xe3o e manipulabilidade."),(0,n.kt)("p",null,"Voc\xea pode ver as restri\xe7\xf5es como 'regras'. Veja quais s\xe3o:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"PRIMARY KEY"),": pode ser usada para identificar cada inst\xe2ncia da coluna, e n\xe3o pode ter valor repetido, como uma 'chave';"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"UNIQUE"),": colunas com essa restri\xe7\xe3o n\xe3o podem ter valores repetidos;"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"NOT NULL"),": colunas com essa restri\xe7\xe3o n\xe3o podem ser nulas, isto \xe9, vazias;"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"DEFAULT"),": associa um valor ",(0,n.kt)("em",{parentName:"li"},"default")," \xe0 coluna caso n\xe3o tenha sido especificado;")),(0,n.kt)("admonition",{title:"PRIMARY KEY x UNIQUE",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"A diferen\xe7a entre essas restri\xe7\xf5es \xe9 que s\xf3 se pode ter 1 coluna com a restri\xe7\xe3o ",(0,n.kt)("strong",{parentName:"p"},"PRIMARY KEY")," por tabela, enquanto podem existir diversas colunas com a restri\xe7\xe3o ",(0,n.kt)("strong",{parentName:"p"},"UNIQUE")," numa mesma tabela.")),(0,n.kt)("h3",{id:"insert-into"},"INSERT INTO"),(0,n.kt)("p",null,"A declara\xe7\xe3o ",(0,n.kt)("strong",{parentName:"p"},"INSERT INTO")," \xe9 usada para adicionar novas LINHAS \xe0 uma tabela (\xe9 importante saber quais declara\xe7\xf5es servem para coluna e quais para linhas)."),(0,n.kt)("p",null,"Pode-se ser escrita de duas formas:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Inserir por ",(0,n.kt)("strong",{parentName:"li"},"NOME")),(0,n.kt)("li",{parentName:"ul"},"Inserir por ",(0,n.kt)("strong",{parentName:"li"},"ORDEM"))),(0,n.kt)("p",null,"Veja um exemplo:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"-- Inserir em colunas por nome:\nINSERT INTO nome_da_tabela\nVALUES (valor1, valor2);\n\n-- Inserir em colunas por ordem:\nINSERT INTO nome_da_tabela (coluna1, coluna2)\nVALUES (valor1, valor2);\n")),(0,n.kt)("admonition",{title:"Padr\xf5es do SQL",type:"note"},(0,n.kt)("p",{parentName:"admonition"},"Perceba que ap\xf3s a linha do ",(0,n.kt)("strong",{parentName:"p"},"INSERT INTO"),", n\xe3o h\xe1 ponto e v\xedrgula. N\xe3o \xe9 um erro; \xe9 o padr\xe3o est\xe9tico\nque devemos seguir quando escrevemos em SQL."),(0,n.kt)("p",{parentName:"admonition"},"O comando poderia ser dado dessa forma:"),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO nome_da_tabela (coluna1, coluna2) VALUES (valor1, valor2);\n")),(0,n.kt)("p",{parentName:"admonition"},"Por\xe9m, para maior facilidade de leitura e interpreta\xe7\xe3o, damos uma quebra de linha a cada cl\xe1usula.\nNesse caso, as cl\xe1usulas s\xe3o ",(0,n.kt)("strong",{parentName:"p"},"INSERT INTO")," e ",(0,n.kt)("strong",{parentName:"p"},"VALUES"),".")),(0,n.kt)("h3",{id:"alter-table"},"ALTER TABLE"),(0,n.kt)("p",null,"A cl\xe1usula ",(0,n.kt)("strong",{parentName:"p"},"ALTER TABLE")," \xe9 usada para modificar as COLUNAS de uma tabela. Combinada com a cl\xe1usula ",(0,n.kt)("strong",{parentName:"p"},"ADD COLUMN"),", podemos adicionar colunas novas na tabela."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"ALTER TABLE nome_da_tabela\nADD nome_da_coluna TIPO_DE_DADO;\n")),(0,n.kt)("p",null,"Usando o exemplo passado, podemos modificar nosso c\xf3digo para algo como:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE estudantes (\n    matricula INTEGER PRIMARY KEY,\n    nome TEXT UNIQUE,\n    idade INTEGER NOT NULL,\n    data_de_inicio DATE NOT NULL,\n    media REAL DEFAULT = 7\n);\n\n-- Adicionamos uma coluna de S\xe9rie (6\xb0, 7\xb0, 8\xb0...)\nALTER TABLE estudantes\nADD serie INTEGER NOT NULL;\n")),(0,n.kt)("h3",{id:"delete"},"DELETE"),(0,n.kt)("p",null,"A declara\xe7\xe3o ",(0,n.kt)("strong",{parentName:"p"},"DELETE")," combina a cl\xe1usula DELETE e WHERE, e deleta LINHAS de uma tabela.\nA cl\xe1usula WHERE identifica quais registros ser\xe3o apagados. Se essa cl\xe1usula for omitida, todos os\nregistros ser\xe3o apagados."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"DELETE FROM nome_da_tabela\nWHERE coluna_x = valor_x;\n")),(0,n.kt)("p",null,'Para apagar registros \xfanicos e espec\xedficos, substitua o "valor_x" pela PRIMARY KEY do registro.'),(0,n.kt)("h3",{id:"update"},"UPDATE"),(0,n.kt)("p",null,"A declara\xe7\xe3o ",(0,n.kt)("strong",{parentName:"p"},"UPDATE")," \xe9 usada para editar registros, ou seja, LINHAS, numa tabela. Inclui uma cl\xe1usula SET que indica a coluna a ser editada e uma cl\xe1usula WHERE para especificar quais registros."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"UPDATE nome_da_tabela\nSET coluna_1 = valor_1, coluna_2 = valor_2\nWHERE coluna_x = valor_x;\n")))}d.isMDXComponent=!0},5680:(a,e,o)=>{o.d(e,{Z:()=>t});const t=o.p+"assets/images/sql-table-example-8905c55203df6e9dfd1fdb73184201b1.png"}}]);